import{_ as f,x,l as g,n as b,r as I,o as i,c as n,y as C,z as L,a as t,b as l,w as h,d as v,e as r,v as V,g as S,q as d,s as B,t as p,F as k,A as F,f as M,u as N,p as A,h as D}from "./_plugin-vue_export-helper-2c13a467.js";import{a as P}from "./InputButton-bc0fcb10.js";import{u as Q,_ as z,a as E}from "./FormModal-858f00fb.js";const T="/assets/ico-list-47bdf140.svg",j="/assets/ico-card-80bcefbb.svg";const q={key:0,class:"saved"},O={__name:"SearchInput",props:{searchValue:String,btnFavorite:Boolean},setup(s){const e=s,c=x(),o=Q(),u=g("");return b(()=>{e.searchValue&&(u.value=e.searchValue)}),(_, a)=>{const y=I("router-link");return i(),n("div",{class:d({"search-input":!0,"w-100":e.searchValue})},[C(t("input",{"onUpdate:modelValue":a[0]||(a[0]= w=>u.value=w),type:"text",placeholder:"Что хотите посмотреть?"},null,512),[[L,u.value]]),l(P,{onClick:a[1]||(a[1]= w=>r(c).searchFetch(u.value))},{default:h(()=>[v("Найти")]),_:1}),e.btnFavorite?(i(),n("div",{key:0,class:"heart",onClick:a[3]||(a[3]= w=>r(o).callModal())},[r(o).isSaved?(i(),n("div",q,[v(" Поиск сохранён в разделе «Избранное» "),l(y,{to:"/favorite",class:"link",onClick:a[2]||(a[2]=V(()=>{},["stop"]))},{default:h(()=>[v("Перейти в избранное")]),_:1})])):S("",!0)])):S("",!0)],2)}}},$=f(O,[["__scopeId","data-v-6909fd3b"]]);const R={__name:"LoaderComponent",props:{active:Boolean},setup(s){const e=s;return(c, o)=>(i(),n("div",{class:d({loader:e.active,"w-100":!0})},[B(c.$slots,"default")],2))}};const U=["href"],G=["src"],H={class:"card-text"},J={class:"card-text__title"},K={class:"card-text__desc"},W={class:"card-text__count-view"},X={__name:"VideoItem",props:{info:Object,isList:Boolean},setup(s){const e=s,c=()=>{switch(!0){case e.info.statistics.viewCount>1e6:return`${(e.info.statistics.viewCount/1e6).toFixed(3)} млн просмотров`;case e.info.statistics.viewCount>1e3:return`${(e.info.statistics.viewCount/1e3).toFixed(3)} тыс просмотров`;default:return`${e.info.statistics.viewCount} просмотров`}};return(o, u)=>(i(),n("a",{href:`https://www.youtube.com/embed/${e.info.id.videoId}`,target:"_blank",class:d({card:!0,list:e.isList})},[t("img",{src:e.info.snippet.thumbnails.medium.url},null,8,G),t("div",H,[t("div",J,p(e.info.snippet.title),1),t("div",K,p(e.info.snippet.description),1),t("div",W,p(c()),1)])],10,U))}},Y=f(X,[["__scopeId","data-v-e2384471"]]);const Z={__name:"VideoList",props:{isList:Boolean},setup(s){const e=s,c=x();return(o, u)=>(i(),n("div",{class:d({"card-wrap":!0,list:e.isList})},[(i(!0),n(k,null,F(r(c).result.items, _=>(i(),M(Y,{key:_.id.videoId,info:_,isList:e.isList},null,8,["info","isList"]))),128))],2))}},ee=f(Z,[["__scopeId","data-v-f67fa952"]]);const m= s=>(A("data-v-a654eb95"),s=s(),D(),s),te={key:0,class:"layout-top"},se=m(()=>t("h1",null,"Поиск видео",-1)),oe={class:"wrapper"},ae={class:"total-info"},ie={class:"display-view"},ne=m(()=>t("img",{src:T},null,-1)),ce=[ne],re=m(()=>t("img",{src:j},null,-1)),_e=[re],le={key:1},ue=m(()=>t("h1",null,"Поиск видео",-1)),de={__name:"SearchPage",setup(s){const e=g(!1),c=N(),o=x();return b(c.checkAuth),(u, _)=>(i(),n(k,null,[l(R,{active:r(o).loading},{default:h(()=>{var a;return[r(o).searchQuery?(i(),n("div",te,[se,l($,{"search-value":r(o).searchQuery,btnFavorite:""},null,8,["search-value"]),t("div",oe,[t("h3",ae,[v(" Видео по запросу "),t("p",null,"«"+p(r(o).searchQuery)+"»",1),t("span",null,p((a=r(o).result.pageInfo)==null?void 0:a.totalResults),1)]),t("div",ie,[t("div",{class:d({"display-view__item":!0,active:e.value}),onClick:_[0]||(_[0]= y=>e.value=!e.value)},ce,2),t("div",{class:d({"display-view__item":!0,active:!e.value}),onClick:_[1]||(_[1]= y=>e.value=!e.value)},_e,2)])]),l(ee,{isList:e.value},null,8,["isList"])])):(i(),n("div",le,[ue,l($)]))]}),_:1},8,["active"]),l(z,null,{default:h(()=>[l(E,{isEdit:!1})]),_:1})],64))}},fe=f(de,[["__scopeId","data-v-a654eb95"]]);export{fe as default};
